{% extends 'edit/edit.html.twig' %}

{% block header %}

<header class="flex items-center justify-around px-4 py-3 bg-gray-900">
    <div>
        <a href="{{ SERVER_URI }}"><img class="h-8" src="{{ SERVER_URI }}/assets/img/logo-inverted.svg" alt="Workcation"></a>
    </div>
    <div>
      <button type="button" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-4 px-6 rounded-full">
          SUBMIT AD
      </button>
    </div>
</header>

{% endblock header %}

{% block form %}

<div class="bg-gray-100 mx-auto mt-6 max-w-4xl rounded-lg px-4">
    <form class="" name="form" id="edit-form" method="POST" action="/editform/{{ ad.id }}" enctype="multipart/form-data">
        <div class="flex">
            <div class="w-1/2 px-4 py-4">
                <label class="block text-gray-700 text-lg font-bold mb-2" for="firstName">First Name</label>
                <input name="firstName" class="bg-white focus:outline-none focus:shadow-outline border border-gray-300 rounded-lg py-2 px-4 block w-full appearance-none leading-normal" type="text" value="{{ ad.user_firstName }}" required>
            </div>
            <div class="w-1/2 px-4 py-4">
                <label class="block text-gray-700 text-lg font-bold mb-2" for="lastName">Last Name</label>
                <input name="lastName" class="bg-white focus:outline-none focus:shadow-outline border border-gray-300 rounded-lg py-2 px-4 block w-full appearance-none leading-normal" type="text" value="{{ ad.user_lastName }}" required>
            </div>
        </div>
        <div class="px-4 py-4">
            <label class="block text-gray-700 text-lg font-bold mb-2" for="phone">Phone</label>
            <input  name="phone" class="bg-white focus:outline-none focus:shadow-outline border border-gray-300 rounded-lg py-2 px-4 block w-full appearance-none leading-normal" type="tel" value="{{ ad.user_phone}}" required>
        </div>
        <div class=" min-w-fullinline-block relative px-4 py-4">
            <label class="block text-gray-700 text-lg font-bold mb-2" for="category">Category</label>
            <select name="category_id" class="form-select min-w-full block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline">
                {% for category in categories %}
                <option value="{{ category.id }}"
                    {% if category.id == ad.category_id %}
                        selected
                    {% endif %}>
                    {{ category.name }}
                </option>
                {% endfor %}
            </select>
        </div>
        <div class="px-4 py-4">
            <label class="block text-gray-700 text-lg font-bold mb-2" for="title">Title</label>
            <input name="title" class="bg-white focus:outline-none focus:shadow-outline border border-gray-300 rounded-lg py-2 px-4 block w-full appearance-none leading-normal" type="text" value="{{ ad.title }}" required>
        </div>
        <div class="px-4 py-4">
            <label class="block text-gray-700 text-lg font-bold mb-2" for="description">Description</label>
            <textarea name="description" class="form-textarea bg-white focus:outline-none focus:shadow-outline border border-gray-300 rounded-lg py-2 px-4 block w-full appearance-none leading-normal" type="text" required>{{ ad.description }}</textarea>
        </div>
        <div class="px-4 py-4">
            <label class="block text-gray-700 text-lg font-bold mb-2" for="picture">Picture upload</label>
            <input name="picture" class="form-input cursor-pointer bg-white focus:outline-none focus:shadow-outline border border-gray-300 rounded-lg py-2 px-4 block w-full appearance-none leading-normal" type="file" @change="fileName" value="{{ ad.picture }}" required>
        </div>
        <div class="px-4 py-4">
            <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-4 px-6 rounded-full" data-sitekey="6LfLrsIZAAAAAFAudA1Ub_FMyqqunz2pVzXQYV-r" data-callback='onSubmit' data-action='submit'>Submit</button>
        </div>
    </form>
</div>

{% endblock form %}

{% block javascript %}

<script type="text/javascript" src="https://www.google.com/recaptcha/api.js"></script>
<script type="text/javascript" src="{{ SERVER_URI }}/js/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.2/jquery.validate.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/infinite-scroll@3/dist/infinite-scroll.pkgd.min.js"></script>
<script type="text/javascript" src="{{ SERVER_URI }}/js/form-validation.js"></script>

{% endblock javascript %}